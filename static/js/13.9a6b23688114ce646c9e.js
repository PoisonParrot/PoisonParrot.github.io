webpackJsonp([13],{"8zp9":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"register",data:function(){return{mobile:"",password:"",password2:"",sendAuthCode:!0,auth_time:"",code:""}},mounted:function(){},methods:{getCode:function(){var e=this;this.mobile?/^(13[0-9]|15[012356789]|17[0-9]|18[0-9]|14[57])[0-9]{8}$/.test(this.mobile)?this.mobile?this.$post("/index/login/sendCaptcha",{mobile:this.mobile,type:1}).then(function(t){if(200==t.data.result){e.$message.success(t.data.msg),e.sendAuthCode=!1,e.auth_time=60;var s=setInterval(function(){e.auth_time--,e.auth_time<=0&&(e.sendAuthCode=!0,clearInterval(s))},1e3)}else e.$message(t.data.msg)}):this.$message("请输入手机号码"):this.$message("请填写有效的手机号！"):this.$message("请输入手机号码")},toRegister:function(){var e=this;this.mobile?/^(13[0-9]|15[012356789]|17[0-9]|18[0-9]|14[57])[0-9]{8}$/.test(this.mobile)?this.password&&this.password2?this.password!==this.password2?this.$message("密码不一致"):this.code?this.$post("index/login/register",{mobile:this.mobile,password:this.password,code:this.code}).then(function(t){if(t.data.stats){e.$message({message:"注册成功",type:"success"});var s=t.data.data;e.$store.commit("setLogin",s),setTimeout(function(){e.$route.query.redirect?e.$router.push(e.$route.query.redirect):e.$router.push("/portal")},1e3)}else e.$message(t.data.msg)}):this.$message("请输入验证码"):this.$message("请输入密码"):this.$message("请填写有效的手机号！"):this.$message("请输入手机号码")}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:e.$route.meta.title,expression:"$route.meta.title"}],staticClass:"register"},[s("div",{staticClass:"register-box"},[s("div",{staticClass:"box"},[s("div",{staticClass:"title"},[e._v("立即注册")]),e._v(" "),s("div",{staticClass:"form"},[s("el-input",{attrs:{placeholder:"手机号"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),e._v(" "),s("div",{staticClass:"sendcode"},[s("el-input",{staticClass:"code",attrs:{placeholder:"短信验证码"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e._v(" "),e.sendAuthCode?s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getCode()}}},[e._v("获取验证码")]):e._e(),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.sendAuthCode,expression:"!sendAuthCode"}],staticClass:"auth_text"},[s("span",{staticClass:"auth_text_blue await"},[e._v(e._s(e.auth_time))]),e._v(" 秒重新发送\n          ")])],1),e._v(" "),s("el-input",{staticClass:"password",attrs:{placeholder:"密码","show-password":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),s("el-input",{staticClass:"password",attrs:{placeholder:"确定密码","show-password":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.toRegister(t)}},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}})],1),e._v(" "),s("el-button",{staticClass:"register",attrs:{type:"primary"},on:{click:e.toRegister}},[e._v("注册")]),e._v(" "),e._m(0),e._v(" "),s("div",{staticClass:"login"},[e._v(" 已有账号?\n        "),s("router-link",{attrs:{to:"loginmima"}},[e._v("现在登录")])],1)],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"forget"},[t("div",{staticClass:"agree"},[this._v("注册即代表同意<<盈链注册协议> >")])])}]};var o=s("C7Lr")(a,i,!1,function(e){s("eB+a")},"data-v-0bf51ae4",null);t.default=o.exports},"eB+a":function(e,t){}});
//# sourceMappingURL=13.9a6b23688114ce646c9e.js.map